name: Junior CI & Auto PR (.NET 8)

on:
push:
branches:
- "junior/**"

permissions:
contents: write
pull-requests: write

jobs:
build-and-pr:
runs-on: ubuntu-latest

```
steps:
  - name: Checkout
    uses: actions/checkout@v4

  - name: Setup .NET 8
    uses: actions/setup-dotnet@v4
    with:
      dotnet-version: "8.0.x"

  - name: Restore
    run: dotnet restore

  - name: Build Layers (Dynamic)
    env:
      BUILD_LAYERS: ${{ vars.BUILD_LAYERS }}
    run: |
      echo "## ðŸš€ Build Summary" >> $GITHUB_STEP_SUMMARY
      echo "" >> $GITHUB_STEP_SUMMARY
      echo "| Layer | Status |" >> $GITHUB_STEP_SUMMARY
      echo "|------|--------|" >> $GITHUB_STEP_SUMMARY

      for layer in $BUILD_LAYERS
      do
        echo "================================="
        echo "ðŸ”¨ Building layer: $layer"
        echo "================================="

        dotnet build ./$layer --configuration Release
        exitCode=$?

        if [ $exitCode -ne 0 ]; then
          echo "âŒ $layer | FAILED" >> $GITHUB_STEP_SUMMARY
          echo "| $layer | âŒ Failed |" >> $GITHUB_STEP_SUMMARY

          echo ""
          echo "âŒ BUILD FAILED"
          echo "âž¡ï¸ Failed layer: $layer"
          echo "âž¡ï¸ Exit code: $exitCode"
          exit $exitCode
        fi

        echo "| $layer | âœ… Success |" >> $GITHUB_STEP_SUMMARY
        echo "âœ… $layer build successful"
        echo ""
      done
